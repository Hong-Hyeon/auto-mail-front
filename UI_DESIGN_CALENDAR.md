# 캘린더 기반 메일 발송 이력 시각화 UI 디자인

## 📋 개요
Action 페이지의 "Selected Companies" 섹션에 Start Date와 End Date 버튼을 추가하고, 버튼 클릭 시 캘린더가 나타나서 날짜를 선택할 수 있도록 합니다. 선택된 날짜 범위에 메일 발송 이력이 있는지 확인하여 캘린더에 스티커로 표시합니다.

---

## 🎨 UI 디자인 제안

### **Action 페이지 통합 캘린더 (최종 결정)**
```
┌─────────────────────────────────────────────────────────┐
│  Action                                                  │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌─ Send Email to All Active Companies ─────────────┐ │
│  │  ...                                                 │ │
│  └────────────────────────────────────────────────────┘ │
│                                                          │
│  ┌─ Send Email to Selected Companies ────────────────┐ │
│  │                                                      │ │
│  │  📅 Date Range Selection                            │ │
│  │  ┌──────────────────────────────────────────────┐  │ │
│  │  │  Start Date: [2024-12-01 📅]                 │  │ │
│  │  │  End Date:   [2024-12-31 📅]                 │  │ │
│  │  │  [Check Email History]                        │  │ │
│  │  └──────────────────────────────────────────────┘  │ │
│  │                                                      │ │
│  │  [Start Date 버튼 클릭 시]                          │ │
│  │  ┌──────────────────────────────────────────────┐  │ │
│  │  │  ◀  December 2024  ▶                         │  │ │
│  │  ├──────────────────────────────────────────────┤  │ │
│  │  │  Sun  Mon  Tue  Wed  Thu  Fri  Sat           │  │ │
│  │  ├──────────────────────────────────────────────┤  │ │
│  │  │      1    2    3    4    5    6    7        │  │ │
│  │  │  [📧] [📧] [   ] [📧] [   ] [📧] [📧]         │  │ │
│  │  │   8    9   10   11   12   13   14              │  │ │
│  │  │  [📧] [   ] [📧] [📧] [📧] [   ] [📧]         │  │ │
│  │  │  15   16   17   18   19   20   21              │  │ │
│  │  │  [📧] [📧] [   ] [📧] [📧] [📧] [📧]         │  │ │
│  │  │  22   23   24   25   26   27   28              │  │ │
│  │  │  [📧] [   ] [📧] [📧] [📧] [📧] [📧]         │  │ │
│  │  │  29   30   31                                   │  │ │
│  │  │  [📧] [📧] [📧]                                │  │ │
│  │  └──────────────────────────────────────────────┘  │ │
│  │                                                      │ │
│  │  📊 Selected Range Statistics                        │ │
│  │  Total: 245 | Success: 238 | Failed: 7             │ │
│  │                                                      │ │
│  │  [선택된 회사들...]                                  │ │
│  │  ...                                                 │ │
│  └────────────────────────────────────────────────────┘ │
│                                                          │
│  ┌─ Options ─────────────────────────────────────────┐ │
│  │  ...                                                 │ │
│  └────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

**장점:**
- Action 페이지에서 날짜 범위 선택과 발송 이력 확인을 한 곳에서 처리
- 메일 발송 전에 해당 기간의 발송 이력을 미리 확인 가능
- 더 실용적이고 통합된 UX
- 선택된 회사들에 대한 발송 이력만 필터링하여 표시 가능

---

### **옵션 2: Email History 페이지 통합 (참고용)**
```
┌─────────────────────────────────────────────────────────┐
│  Email History                                          │
├──────────────┬──────────────────────────────────────────┤
│              │  Filters & Search                        │
│  ┌────────┐  │  [Search...] [Status ▼] [Company ▼]      │
│  │◀ Dec ▶ │  │                                           │
│  ├────────┤  │  Email History List                       │
│  │S M T W │  │  ┌────────────────────────────────────┐  │
│  │1 2 3 4 │  │  │ 2024-12-15 10:30                   │  │
│  │5[📧]6 7│  │  │ company1@example.com               │  │
│  │8 9[📧]│  │  │ Status: Sent                         │  │
│  │10[📧] │  │  └────────────────────────────────────┘  │
│  │...     │  │  ┌────────────────────────────────────┐  │
│  │        │  │  │ 2024-12-15 10:32                   │  │
│  │📊 Stats│  │  │ company2@example.com               │  │
│  │Total:  │  │  │ Status: Sent                         │  │
│  │245     │  │  └────────────────────────────────────┘  │
│  │Success:│  │  ...                                     │
│  │238     │  │                                           │
│  │Failed: │  │                                           │
│  │7       │  │                                           │
│  └────────┘  │                                           │
└──────────────┴──────────────────────────────────────────┘
```

**장점:**
- 캘린더와 리스트를 동시에 볼 수 있음
- 날짜 선택 시 해당 날짜의 이메일만 필터링

---

### **옵션 3: Email History 페이지 통합 (참고용)**
```
┌─────────────────────────────────────────────────────────┐
│  Email History - Calendar View                          │
├─────────────────────────────────────────────────────────┤
│  ◀  December 2024  ▶    [Today] [List View]            │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ┌──────┬──────┬──────┬──────┬──────┬──────┬──────┐   │
│  │ Sun  │ Mon  │ Tue  │ Wed  │ Thu  │ Fri  │ Sat  │   │
│  ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤   │
│  │      │  1   │  2   │  3   │  4   │  5   │  6   │   │
│  │      │      │      │      │      │      │      │   │
│  │      │      │      │      │      │      │      │   │
│  ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤   │
│  │  7   │  8   │  9   │ 10   │ 11   │ 12   │ 13   │   │
│  │      │      │      │      │      │      │      │   │
│  │      │      │      │      │      │      │      │   │
│  ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤   │
│  │ 14   │ 15📧 │ 16   │ 17📧 │ 18📧 │ 19   │ 20📧 │   │
│  │      │ ┌──┐ │      │ ┌──┐ │ ┌──┐ │      │ ┌──┐ │   │
│  │      │ │15│ │      │ │12│ │ │18│ │      │ │ 8│ │   │
│  │      │ └──┘ │      │ └──┘ │ └──┘ │      │ └──┘ │   │
│  ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤   │
│  │ 21📧 │ 22   │ 23📧 │ 24📧 │ 25📧 │ 26   │ 27📧 │   │
│  │ ┌──┐ │      │ ┌──┐ │ ┌──┐ │ ┌──┐ │      │ ┌──┐ │   │
│  │ │22│ │      │ │ 5│ │ │30│ │ │45│ │      │ │12│ │   │
│  │ └──┘ │      │ └──┘ │ └──┘ │ └──┘ │      │ └──┘ │   │
│  ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤   │
│  │ 28📧 │ 29   │ 30📧 │ 31📧 │      │      │      │   │
│  │ ┌──┐ │      │ ┌──┐ │ ┌──┐ │      │      │      │   │
│  │ │18│ │      │ │25│ │ │32│ │      │      │      │   │
│  │ └──┘ │      │ └──┘ │ └──┘ │      │      │      │   │
│  └──────┴──────┴──────┴──────┴──────┴──────┴──────┘   │
│                                                          │
│  📊 Monthly Statistics                                  │
│  Total: 245 | Success: 238 | Failed: 7                  │
│                                                          │
│  [Selected: 2024-12-15]                                 │
│  ┌──────────────────────────────────────────────────┐  │
│  │  📧 15 emails sent on this day                    │  │
│  │  ✅ 14 successful | ❌ 1 failed                   │  │
│  │  [View Details]                                   │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

**장점:**
- 가장 시각적이고 직관적
- 한눈에 전체 발송 패턴 파악 가능
- 날짜별 발송 수를 숫자로 표시

---

## 🎯 스티커/마커 디자인 옵션

### **옵션 A: 이모지 기반**
- 📧 (기본): 메일 발송됨
- ✅ (성공): 모두 성공
- ⚠️ (경고): 일부 실패
- ❌ (실패): 모두 실패

### **옵션 B: 색상 배지**
- 🟢 초록색 원: 모두 성공
- 🟡 노란색 원: 일부 실패
- 🔴 빨간색 원: 모두 실패
- ⚪ 회색 원: 발송 없음

### **옵션 C: 숫자 배지 (추천)**
```
┌─────┐
│ 15  │  ← 발송된 이메일 수
└─────┘
```
- 배경색으로 상태 표시
  - 초록: 모두 성공
  - 노랑: 일부 실패
  - 빨강: 모두 실패

### **옵션 D: 점(Dot) 표시**
- 작은 점을 날짜 위에 표시
- 색상으로 상태 구분
- 여러 개의 점으로 발송 횟수 표시 가능

---

## 📱 인터랙션 디자인

### **날짜 클릭 시:**
1. **모달 팝업** (추천)
   - 선택된 날짜의 상세 정보 표시
   - 발송된 이메일 리스트
   - 성공/실패 통계
   - "View All" 버튼으로 전체 리스트로 이동

2. **사이드 패널**
   - 오른쪽에서 슬라이드 인
   - 날짜별 상세 정보 표시

3. **인라인 확장**
   - 캘린더 아래에 선택된 날짜 정보 표시

---

## 🎨 색상 스키마

### **발송 상태별 색상:**
- **성공 (Success)**: `#10b981` (초록)
- **일부 실패 (Partial)**: `#f59e0b` (노랑)
- **실패 (Failed)**: `#ef4444` (빨강)
- **발송 없음**: `#e5e7eb` (회색)

### **오늘 날짜:**
- 파란색 테두리로 강조
- `#2563eb`

---

## 📊 통계 정보 표시

### **월별 통계:**
- Total: 총 발송 수
- Success: 성공 수
- Failed: 실패 수
- Success Rate: 성공률 (%)

### **선택된 날짜 통계:**
- 해당 날짜의 발송 수
- 성공/실패 수
- 평균 발송 시간
- 가장 많이 발송된 템플릿

---

## 🔧 기능 요구사항

### **필수 기능:**
1. ✅ Start Date / End Date 버튼 (Action 페이지)
2. ✅ 드롭다운 캘린더 (버튼 클릭 시 표시)
3. ✅ 날짜 선택 기능
4. ✅ 선택된 날짜 범위 표시
5. ✅ 선택된 회사들 + 날짜 범위로 Email History 조회
6. ✅ 날짜별 발송 이력 표시 (스티커/배지)
7. ✅ 날짜 범위 통계 표시 (Total, Success, Failed)
8. ✅ 날짜 유효성 검사 (Start Date < End Date)

### **선택 기능:**
1. 📅 날짜 클릭 시 해당 날짜의 상세 정보 표시
2. 📊 통계 차트 (막대 그래프)
3. 🔍 날짜 범위 자동 하이라이트
4. 💡 툴팁 (날짜 호버 시 발송 수 표시)
5. 🎯 빠른 선택 옵션 (오늘, 이번 주, 이번 달 등)

---

## 💡 최종 구현 방안

**Action 페이지 통합 + 옵션 C (숫자 배지) + 드롭다운 캘린더**

이 조합이 가장 실용적이고 통합된 UX를 제공합니다:
- Action 페이지에서 날짜 범위 선택과 발송 이력 확인을 한 곳에서 처리
- 메일 발송 전에 해당 기간의 발송 이력을 미리 확인 가능
- 선택된 회사들에 대한 발송 이력만 필터링하여 표시
- 드롭다운 캘린더로 공간 효율적
- 구현 복잡도 적절

---

## 📝 구현 단계

1. **Phase 1: 기본 캘린더 컴포넌트**
   - Calendar 컴포넌트 생성 (재사용 가능)
   - 월별 네비게이션 (이전/다음 월)
   - 날짜 선택 기능
   - 드롭다운 형태로 표시/숨김

2. **Phase 2: Action 페이지 통합**
   - Start Date / End Date 버튼 추가
   - 버튼 클릭 시 캘린더 드롭다운 표시
   - 선택된 날짜 표시
   - 날짜 범위 유효성 검사 (Start < End)

3. **Phase 3: 발송 이력 표시**
   - 선택된 회사들 + 날짜 범위로 Email History API 호출
   - 날짜별 발송 이력 집계
   - 캘린더에 스티커/배지 표시 (숫자 배지)
   - 통계 정보 표시 (Total, Success, Failed)

4. **Phase 4: 상호작용 개선**
   - 날짜 클릭 시 해당 날짜의 상세 정보 표시
   - 호버 시 툴팁 표시
   - 선택된 날짜 범위 하이라이트

---

이 디자인으로 진행할까요? 다른 옵션이나 수정 사항이 있으면 알려주세요!

